<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CORE MASTER 2026 | Admin Dashboard</title>
  
  <link rel="stylesheet" href="style.css">
  
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

  <aside class="sidebar">
    <div class="sidebar-header">
      <div style="display: flex; align-items: center; gap: 10px;">
        <div style="width: 32px; height: 32px; background: var(--accent); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 900;">C</div>
        <div>
          <div style="font-weight: 900; font-size: 16px; color: var(--text); line-height: 1;">CORE MASTER</div>
          <div style="font-size: 9px; color: var(--muted); font-weight: 700; text-transform: uppercase;">Admin Console</div>
        </div>
      </div>
    </div>
    
    <div class="sidebar-content">
      <div class="nav-label">Übersicht</div>
      <a href="admin.html" class="nav-link active"><i data-lucide="layout-dashboard"></i> Dashboard</a>
      <a href="views/kunden.html" class="nav-link"><i data-lucide="users"></i> Kunden</a>
      <a href="views/objekte.html" class="nav-link"><i data-lucide="building-2"></i> Objekte</a>
      <a href="views/projekte.html" class="nav-link"><i data-lucide="briefcase"></i> Projekte</a>
      
      <div class="nav-label">Management</div>
      <a href="views/termine.html" class="nav-link"><i data-lucide="calendar"></i> Termine</a>
      <a href="views/angebote.html" class="nav-link"><i data-lucide="file-plus"></i> Angebote</a>
      <a href="views/rechnungen.html" class="nav-link"><i data-lucide="file-text"></i> Rechnungen</a>
      <a href="views/auszahlungen.html" class="nav-link"><i data-lucide="wallet"></i> Auszahlungen</a>
      
      <div class="nav-label">System</div>
      <a href="views/katalog.html" class="nav-link"><i data-lucide="layers"></i> Katalog</a>
      <a href="views/mitarbeiter.html" class="nav-link"><i data-lucide="hard-hat"></i> Mitarbeiter</a>
      <a href="views/schichtplan.html" class="nav-link"><i data-lucide="clock"></i> Schichtpläne</a>
    </div>

    <div class="theme-switch-wrapper">
      <button class="theme-btn" id="themeToggle" onclick="toggleTheme()">
        <i data-lucide="sun" id="themeIcon"></i> 
        <span id="themeText">Blue Mode</span>
      </button>
    </div>
  </aside>

  <main class="main">
    <header class="header">
      <div>
        <h1 style="font-size: 24px; font-weight: 800; margin: 0;">Dashboard</h1>
        <p style="font-size: 13px; color: var(--muted); margin: 5px 0 0;">Übersicht deiner Firma</p>
      </div>
      <button class="btn-main" style="width: auto; padding: 10px 20px;">Login / Registrieren</button>
    </header>

    <div class="content">
      <div style="display: grid; grid-template-columns: 1.5fr 1fr; gap: 20px;">
        
        <div class="card-glass">
          <h3 style="margin-top: 0; font-size: 16px;">Firma</h3>
          <div style="display: flex; gap: 10px; margin-bottom: 25px;">
            <span style="background: var(--glass); padding: 5px 15px; border-radius: 20px; font-size: 12px; border: 1px solid var(--glass-border);">Lade...</span>
            <span style="background: var(--glass); padding: 5px 15px; border-radius: 20px; font-size: 12px; border: 1px solid var(--glass-border);">Mitarbeiter: 0</span>
            <span style="background: var(--glass); padding: 5px 15px; border-radius: 20px; font-size: 12px; border: 1px solid var(--glass-border);">Kunden: 0</span>
            <span style="background: var(--glass); padding: 5px 15px; border-radius: 20px; font-size: 12px; border: 1px solid var(--glass-border);">Objekte: 0</span>
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
            <div>
              <h4 style="color: var(--accent); font-size: 14px; text-transform: uppercase;">Dein nächster Schritt</h4>
              <ul style="list-style: none; padding: 0; font-size: 13px; line-height: 1.8; color: var(--text);">
                <li>1) Unter <b>Einstellungen</b> Firmendaten setzen.</li>
                <li>2) Unter <b>Mitarbeiter</b> per Invite einladen.</li>
                <li>3) Unter <b>Schichtpläne</b> Schichten planen.</li>
              </ul>
            </div>
            <div>
              <h4 style="color: var(--accent); font-size: 14px; text-transform: uppercase;">Plan / Limit</h4>
              <p style="font-size: 12px; color: var(--muted);">Limit wird automatisch in der DB enforced. Wenn voll → Upgrade nötig.</p>
              <div style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--glass-border); display: flex; align-items: center; justify-content: center; color: var(--muted);">—</div>
            </div>
          </div>
        </div>

        <div class="card-glass">
          <h3 style="margin-top: 0; font-size: 16px;">Schnellaktionen</h3>
          <div style="display: flex; flex-wrap: wrap; gap: 10px;">
            <button class="action-btn">Mitarbeiter</button>
            <button class="action-btn" style="background: #3b82f6;">Kunden</button>
            <button class="action-btn" style="background: #2563eb;">Objekte</button>
            <button class="action-btn" style="background: #1d4ed8;">Schichtpläne</button>
            <button class="action-btn" style="background: var(--glass); border: 1px solid var(--glass-border); color: var(--text);">Chat/Video</button>
          </div>
          <p style="margin-top: 30px; font-size: 11px; color: var(--muted); font-style: italic;">
            Hinweis: Für Lebenslauf-PDF nutzt du später Supabase Storage (cv_file_url speichern).
          </p>
        </div>

      </div>
    </div>
  </main>

  <script>
    // Icons initialisieren
    lucide.createIcons();

    // Theme-Toggle Funktion
    function toggleTheme() {
      const body = document.body;
      const themeText = document.getElementById('themeText');
      const themeIcon = document.getElementById('themeIcon');
      
      const isBlue = body.classList.toggle('light-mode');
      
      if (isBlue) {
        themeText.innerText = "Black Mode";
        themeIcon.setAttribute('data-lucide', 'moon');
      } else {
        themeText.innerText = "Blue Mode";
        themeIcon.setAttribute('data-lucide', 'sun');
      }
      
      localStorage.setItem('theme', isBlue ? 'blue' : 'black');
      lucide.createIcons();
    }

    // Beim Laden gespeichertes Theme anwenden
    window.onload = () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'blue') {
        document.body.classList.add('light-mode');
        document.getElementById('themeText').innerText = "Black Mode";
        document.getElementById('themeIcon').setAttribute('data-lucide', 'moon');
        lucide.createIcons();
      }
    };
  </script>
</body>
</html>
